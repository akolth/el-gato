<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>$Elgato Token</title>
    <link rel="stylesheet" href="../assets/css/bootstrap.min.css" />
    <link rel="stylesheet" href="../assets/css/all.min.css" />
    <link rel="stylesheet" href="../assets/css/style.css" />
    <link rel="stylesheet" href="../assets/css/responsive.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Barlow:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&amp;display=swap"
      rel="stylesheet"
    />
    <link
      rel="shortcut icon"
      href="../assets/images/favicon.png"
      type="image/x-icon"
    />
  </head>
  <body>
    <header class="header-area">
      <div class="container">
        <div class="row">
          <div class="col-12">
            <div
              class="header-main d-flex justify-content-between align-items-center"
            >
              <div class="header-logo">
                <a href="../"
                  ><img src="../assets/images/logo.png" alt="logo"
                /></a>
              </div>
              <div class="header-right d-flex align-items-center">
                <nav class="navbar navbar-expand-lg">
                  <button
                    class="navbar-toggler"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent"
                    aria-controls="navbarSupportedContent"
                    aria-expanded="false"
                    aria-label="Toggle navigation"
                  >
                    <div class="sandwitch">
                      <span></span>
                      <span></span>
                      <span></span>
                      <span></span>
                      <span></span>
                      <span></span>
                    </div>
                  </button>
                  <div
                    class="collapse navbar-collapse"
                    id="navbarSupportedContent"
                  >
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                      <li class="nav-item active">
                        <a class="nav-link" aria-current="page" href="../"
                          >Home</a
                        >
                      </li>
                      <li class="nav-item">
                        <a
                          class="nav-link"
                          href="https://x.com/elgatoonsol?s=21&t=s02q1qCPsuY3JcBRMKDV8A"
                          >Twitter(X)</a
                        >
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="https://t.me/elgatosolticker"
                          >Telegram</a
                        >
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="../#make-your-gato"
                          >Make a Gato</a
                        >
                      </li>
                      <li class="nav-item">
                        <a
                          class="nav-link"
                          href="https://solscan.io/token/F47vvwFYuLioQsqEVAjqdY6Yihc8wVRiUcfHGcBR9XUs"
                          >Solscan</a
                        >
                      </li>
                    </ul>
                    <div class="header-btn ms-3">
                      <a class="btn btn-secondary" href="../buy-elgato"
                        >Buy $Elgato</a
                      >
                    </div>
                  </div>
                </nav>
                <div class="header-btn ms-3">
                  <a class="btn btn-secondary" href="../buy-elgato"
                    >Buy $Elgato</a
                  >
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </header>
    <main class="main--area p-120 pt-0">
      <br />

      <br />
      <br />
      <section class="how-to-buy-section" id="where-to-buy">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <div class="section-title text-center mb-30">
                <h2><span>HOW TO BUY</span></h2>
              </div>
              <h4 style="color: white">
                OFFICIAL CA: F47vvwFYuLioQsqEVAjqdY6Yihc8wVRiUcfHGcBR9XUs
              </h4>
            </div>
          </div>
          <div class="row align-items-center">
            <div class="col-lg-6">
              <div class="buy-points">
                <br />
                <h6 class="how-to"><span>Buy on JUP DEX</span></h6>

                <ul>
                  <li>
                    Visit
                    <a
                      href="https://jup.ag/swap/SOL-ELGATO_F47vvwFYuLioQsqEVAjqdY6Yihc8wVRiUcfHGcBR9XUs"
                      >https://jup.ag/swap/SOL-ELGATO_F47vvwFYuLioQsqEVAjqdY6Yihc8wVRiUcfHGcBR9XUs</a
                    >
                  </li>
                  <li>Connect your wallet to the Dapp.</li>
                  <li>
                    Enter the amount of SOL you want to swap, and the
                    corresponding amount of $ElGato will be calculated.
                  </li>
                  <li>
                    Review the transaction details, including any fees, and
                    confirm the swap.
                  </li>
                  <li>
                    Sign the the transaction in your wallet and wait for it to
                    be processed.
                  </li>

                  <li>
                    You should should see your $Elgato tokens in your wallet in
                    no time
                  </li>
                </ul>

                <div class="buy-btns">
                  <a href="#" class="btn btn-primary"
                    ><svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="33"
                      height="32"
                      viewBox="0 0 33 32"
                      fill="none"
                    >
                      <g clip-path="url(#clip0_11565_169621)">
                        <g filter="url(#filter0_d_11565_169621)">
                          <path
                            d="M3.09074 25.1666C4.44267 27.0471 6.17683 28.6205 8.1795 29.7838C10.1822 30.947 12.4081 31.6738 14.7114 31.9165C13.5264 30.1333 11.8039 28.4928 9.65354 27.2438C7.50318 25.9948 5.22592 25.3125 3.09074 25.1666Z"
                            fill="url(#paint0_linear_11565_169621)"
                          />
                          <path
                            d="M12.543 22.2705C8.40015 19.8636 3.91612 19.2502 0.707663 20.3338C1.0174 21.3575 1.42589 22.3487 1.92738 23.2934C4.71498 23.2288 7.75856 23.9859 10.5906 25.6308C13.4227 27.2757 15.5888 29.5459 16.9143 32C17.9839 31.9672 19.0479 31.8309 20.0913 31.5932C19.4426 28.2698 16.6849 24.6779 12.543 22.2705Z"
                            fill="url(#paint1_linear_11565_169621)"
                          />
                          <path
                            d="M32.2852 12.5009C31.7585 10.3584 30.8054 8.34403 29.4829 6.57804C28.1604 4.81205 26.4956 3.33067 24.5879 2.22235C22.6802 1.11403 20.5687 0.401504 18.3796 0.127309C16.1904 -0.146885 13.9684 0.0228794 11.8463 0.626465C15.3915 1.06033 19.3267 2.39122 23.1859 4.63324C27.0452 6.87525 30.1533 9.63411 32.2852 12.5009Z"
                            fill="url(#paint2_linear_11565_169621)"
                          />
                          <path
                            d="M27.1271 20.3583C25.3124 17.3446 22.2038 14.4588 18.3743 12.2342C14.5449 10.0095 10.4991 8.7388 6.98531 8.65474C3.894 8.58152 1.57389 9.48017 0.621548 11.1197C0.616125 11.1294 0.608532 11.1386 0.602566 11.1484C0.516877 11.4559 0.44312 11.7639 0.37587 12.0731C1.70568 11.5481 3.24645 11.2558 4.95969 11.2232C8.76959 11.1517 13.0334 12.3703 16.9681 14.6562C20.9027 16.9422 24.0759 20.0438 25.9003 23.3878C26.7182 24.8944 27.2285 26.3777 27.4308 27.7948C27.6662 27.5844 27.8972 27.3669 28.1212 27.1408C28.1272 27.1305 28.131 27.1196 28.1369 27.1088C29.0893 25.4677 28.721 23.0076 27.1271 20.3583Z"
                            fill="url(#paint3_linear_11565_169621)"
                          />
                          <path
                            d="M15.4609 17.2485C9.59662 13.8416 3.11626 13.3079 0 15.6855C0.00612096 16.4297 0.0630166 17.1726 0.170292 17.9091C1.08699 17.6312 2.03177 17.4562 2.98718 17.3874C6.46952 17.1254 10.3087 18.0957 13.7927 20.1207C17.2766 22.1458 20.023 25.0018 21.5209 28.1543C21.935 29.018 22.2508 29.9254 22.4624 30.8595C23.1555 30.5878 23.8294 30.2694 24.4794 29.9066C25.0011 26.0213 21.3268 20.656 15.4609 17.2485Z"
                            fill="url(#paint4_linear_11565_169621)"
                          />
                          <path
                            d="M30.1434 15.3141C28.3082 12.3036 25.1724 9.40969 21.3158 7.17039C17.4593 4.93109 13.3977 3.64033 9.87257 3.53674C7.1853 3.45919 5.10382 4.11053 4.02457 5.34109C8.50588 4.58182 14.4168 5.85794 20.146 9.18625C25.8753 12.5146 29.9135 17.0181 31.4722 21.2868C32.0064 19.7406 31.5416 17.6098 30.1434 15.3141Z"
                            fill="url(#paint5_linear_11565_169621)"
                          />
                        </g>
                      </g>
                      <defs>
                        <filter
                          id="filter0_d_11565_169621"
                          x="-22.7449"
                          y="-20.4704"
                          width="77.7749"
                          height="77.4898"
                          filterUnits="userSpaceOnUse"
                          color-interpolation-filters="sRGB"
                        >
                          <feFlood
                            flood-opacity="0"
                            result="BackgroundImageFix"
                          />
                          <feColorMatrix
                            in="SourceAlpha"
                            type="matrix"
                            values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                            result="hardAlpha"
                          />
                          <feOffset dy="2.27449" />
                          <feGaussianBlur stdDeviation="11.3724" />
                          <feComposite in2="hardAlpha" operator="out" />
                          <feColorMatrix
                            type="matrix"
                            values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"
                          />
                          <feBlend
                            mode="normal"
                            in2="BackgroundImageFix"
                            result="effect1_dropShadow_11565_169621"
                          />
                          <feBlend
                            mode="normal"
                            in="SourceGraphic"
                            in2="effect1_dropShadow_11565_169621"
                            result="shape"
                          />
                        </filter>
                        <linearGradient
                          id="paint0_linear_11565_169621"
                          x1="21.5"
                          y1="6.5"
                          x2="6.66667"
                          y2="32"
                          gradientUnits="userSpaceOnUse"
                        >
                          <stop offset="0.0001" stop-color="#C7F284" />
                          <stop offset="1" stop-color="#00BEF0" />
                        </linearGradient>
                        <linearGradient
                          id="paint1_linear_11565_169621"
                          x1="21.5"
                          y1="6.5"
                          x2="6.66667"
                          y2="32"
                          gradientUnits="userSpaceOnUse"
                        >
                          <stop offset="0.0001" stop-color="#C7F284" />
                          <stop offset="1" stop-color="#00BEF0" />
                        </linearGradient>
                        <linearGradient
                          id="paint2_linear_11565_169621"
                          x1="21.5"
                          y1="6.5"
                          x2="6.66667"
                          y2="32"
                          gradientUnits="userSpaceOnUse"
                        >
                          <stop offset="0.0001" stop-color="#C7F284" />
                          <stop offset="1" stop-color="#00BEF0" />
                        </linearGradient>
                        <linearGradient
                          id="paint3_linear_11565_169621"
                          x1="21.5"
                          y1="6.5"
                          x2="6.66667"
                          y2="32"
                          gradientUnits="userSpaceOnUse"
                        >
                          <stop offset="0.0001" stop-color="#C7F284" />
                          <stop offset="1" stop-color="#00BEF0" />
                        </linearGradient>
                        <linearGradient
                          id="paint4_linear_11565_169621"
                          x1="21.5"
                          y1="6.5"
                          x2="6.66667"
                          y2="32"
                          gradientUnits="userSpaceOnUse"
                        >
                          <stop offset="0.0001" stop-color="#C7F284" />
                          <stop offset="1" stop-color="#00BEF0" />
                        </linearGradient>
                        <linearGradient
                          id="paint5_linear_11565_169621"
                          x1="21.5"
                          y1="6.5"
                          x2="6.66667"
                          y2="32"
                          gradientUnits="userSpaceOnUse"
                        >
                          <stop offset="0.0001" stop-color="#C7F284" />
                          <stop offset="1" stop-color="#00BEF0" />
                        </linearGradient>
                        <clipPath id="clip0_11565_169621">
                          <rect width="32.2852" height="32" fill="white" />
                        </clipPath>
                      </defs>
                    </svg>
                    <span style="display: flex;
                    align-items: center;">Buy Now</span></a
                  >
                </div>
                <br />
                <br />

                <h6 class="how-to"><span>Buy on Raydium</span></h6>

                <ul>
                  <li>
                    Visit
                    <a
                      href="https://raydium.io/swap/?inputCurrency=sol&outputCurrency=F47vvwFYuLioQsqEVAjqdY6Yihc8wVRiUcfHGcBR9XUs&fixed=in"
                      >https://raydium.io/swap/?inputCurrency=sol&outputCurrency=F47vvwFYuLioQsqEVAjqdY6Yihc8wVRiUcfHGcBR9XUs&fixed=in</a
                    >
                  </li>
                  <li>Connect your wallet to the Dapp.</li>
                  <li>
                    Enter the amount of SOL you want to swap, and the
                    corresponding amount of $ElGato will be calculated.
                  </li>
                  <li>
                    Review the transaction details, including any fees, and
                    confirm the swap.
                  </li>
                  <li>
                    Sign the the transaction in your wallet and wait for it to
                    be processed.
                  </li>

                  <li>
                    You should should see your $Elgato tokens in your wallet in
                    no time
                  </li>
                </ul>

                <div class="buy-btns">
                  <a href="#" class="btn btn-primary"
                    >
                    
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="none" height="33" viewBox="0 0 120 33" width="120"><linearGradient id="a" gradientUnits="userSpaceOnUse" x1="28.3168" x2="-1.73336" y1="8.19162" y2="20.2086"><stop offset="0" stop-color="#c200fb"/><stop offset=".489658" stop-color="#3772ff"/><stop offset=".489758" stop-color="#3773fe"/><stop offset="1" stop-color="#5ac4be"/></linearGradient><path clip-rule="evenodd" d="m41.2458 20.1947-1.4793-2.5554h-2.166v2.5554h-1.2741v-7.673h3.8364c.4677-.0037.9274.121 1.3291.3605.4017.2396.7299.5848.949.998.219.4132.3204.8786.2932 1.3455-.0273.4669-.1821.9174-.4477 1.3023-.2774.4083-.6688.7259-1.1255.9132l1.5785 2.7535zm-1.083-6.3706h-2.5623v2.5482h2.5623c.1675-.0001.3331-.0347.4866-.1017.1534-.0669.2914-.1649.4053-.2876.1764-.1791.2962-.4061.3445-.6528s.023-.5022-.0728-.7346c-.0959-.2324-.2579-.4315-.4661-.5725-.2081-.1409-.4532-.2175-.7045-.2202zm13.6402-1.3024-3.8436 7.673h1.4299l2.4137-4.8063 2.4067 4.8063h1.4298zm16.1953 0h-1.628l-2.1873 2.8313-2.1801-2.8313h-1.6351l3.2065 4.0913v3.5817h1.2741v-3.6454zm6.5262 0h2.5553c1.0152.0074 1.9867.414 2.7046 1.1319.7179.7178 1.1245 1.6894 1.1319 2.7046-.0056 1.0158-.4116 1.9883-1.1299 2.7066-.7182.7183-1.6908 1.1243-2.7066 1.1299h-2.5553zm2.5553 6.3705c.6771-.0018 1.326-.2717 1.8048-.7505s.7486-1.1276.7505-1.8048c-.0074-.6754-.279-1.3211-.7566-1.7987s-1.1233-.7492-1.7987-.7566h-1.2883v5.1106zm12.3519-6.3705h-1.2741v7.673h1.2741zm13.6333 4.4664c.007.4221-.073.8411-.235 1.2309-.162.3897-.402.7419-.707 1.0342-.447.4472-1.016.7516-1.636.8747-.621.123-1.263.0592-1.847-.1834s-1.0824-.6531-1.4326-1.1794-.5363-1.1448-.5346-1.777v-4.4664h1.2741v4.4664c0 .5088.2021.9967.5621 1.3565.359.3597.847.5618 1.356.5618s.997-.2021 1.357-.5618c.359-.3598.561-.8477.561-1.3565v-4.4664h1.282zm8.515 3.2066v-4.5868l2.569 2.5623 2.556-2.5623v4.5868h1.295v-7.673l-3.851 3.8365-3.836-3.8365v7.673z" fill="#f1f1f2" fill-rule="evenodd"/><g fill="url(#a)"><path d="m26.8625 12.281v11.4104l-12.6916 7.3261-12.69859-7.3261v-14.65937l12.69859-7.33322 9.7541 5.63441 1.4723-.84941-11.2264-6.48381-14.1709 8.18262v16.35818l14.1709 8.1826 14.171-8.1826v-13.1092z"/><path d="m10.6176 23.6985h-2.12353v-7.1209h7.07843c.6697-.0074 1.3095-.2782 1.7811-.7538.4716-.4755.737-1.1176.7388-1.7874.0038-.3311-.0601-.6596-.1879-.9651-.1279-.3056-.3168-.5817-.5554-.8115-.2308-.2372-.5071-.4253-.8124-.553-.3053-.1278-.6333-.1925-.9642-.1903h-7.07843v-2.16595h7.08543c1.2405.00743 2.4281.50351 3.3053 1.38065.8771.8772 1.3732 2.0648 1.3806 3.3052.0076.9496-.2819 1.8777-.8281 2.6544-.5027.7432-1.2111 1.3237-2.0386 1.6705-.8194.2599-1.6745.3889-2.5341.3823h-4.247z"/><path d="m20.2159 23.5215h-2.4775l-1.9111-3.3339c.7561-.0463 1.5019-.1988 2.2155-.453z"/><path d="m25.3831 9.90975 1.4652.81405 1.4653-.81405v-1.72005l-1.4653-.84941-1.4652.84941z"/></g></svg>
                    
                    <span style="display: flex;
                    align-items: center;">Buy Now</span></a
                  >
                  
                  
                

                <br />
                <br />
                <br />

                <h6 class="how-to"><span>Buy With Bonk Bot</span></h6>
                <ul>
                  <li>
                    Visit this link to
                    <a href="https://t.me/bonkbot_bot"
                      >Chat Bonk Bot on Telegram</a
                    >
                  </li>
                  <li>
                    First time users might need to setup their wallet (you can
                    see that in options in the bot chat)
                  </li>
                  <li>
                    Copy the contract address and paste the CA inside the chat,
                    this should bring details about the $elgato token.
                  </li>
                  <li>
                    Enter the amount of your buy in $SOL. Then you should
                    recieve the $Elgato token equivalent in your wallet.
                  </li>
                </ul>

                <div class="buy-btns">
                  <a href="#" onclick="navigator.clipboard.writeText('F47vvwFYuLioQsqEVAjqdY6Yihc8wVRiUcfHGcBR9XUs').then(() => alert('Address copied')).catch(err => console.error('Failed to copy:', err))" class="btn btn-secondary">Copy Address</a>
                  <a  href="#" class="btn btn-primary"
                    ><span>Message @bonkbot_bot
                    </span></a
                  >
                </div>
              </div>
            </div>
            <div class="col-lg-6">
              <div class="buy-media text-center"></div>
            </div>
          </div>
        </div>
      </section>
    </main>
    <footer class="footer-style-two has-footer-animation" id="contact">
      <div class="footer__country">
        <div class="container custom-container">
          <div class="row">
            <div class="col-6">
              <div class="section-title mb-30">
                <h2><span class="footer-texts">$ELGATO</span></h2>
              </div>
            </div>
            <div class="col-6">
              <div class="section-title mb-30 text-center text-sm-end">
                <h2><span class="footer-texts">En SOLANA</span></h2>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="footer__two-widgets"></div>
    </footer>
    <div id="to-top"><i class="fas fa-arrow-up fa-fw"></i></div>
    <script src="../assets/js/jquery-3.6.0.min.js"></script>
    <script src="../assets/js/bootstrap.bundle.min.js"></script>
    <script src="../assets/js/custom.js"></script>
    <script>
      // Get references to HTML elements
      const baseImageUpload = document.getElementById("baseImageUpload");
      const addOverlayBtn = document.getElementById("addOverlayBtn");
      const resizeControl = document.getElementById("resizeControl");
      const rotateControl = document.getElementById("rotateControl");
      const canvas = document.getElementById("imageCanvas");
      const ctx = canvas.getContext("2d");
      const downloadBtn = document.getElementById("downloadBtn");
      const resetBtn = document.getElementById("resetBtn");
      const preview = document.getElementById("preview");

      // Initialize variables
      let baseImage = null;
      let overlayImage = null;
      let overlayImageScale = 0.2; // Initial scale (20%)
      let overlayRotation = 180;
      let overlayPosition = { x: 50, y: 50 };
      let isDragging = false;
      let dragStartX, dragStartY;
      let overlayImageUrl = "../C58-DDA86-93-E9-4559-9-FC3-86-D994256247-1.png";

      // Add an initial call to setCanvasDimensions to ensure canvas dimensions are set correctly on page load
      setCanvasDimensions();

      // Add an event listener to update canvas dimensions when the window is resized
      window.addEventListener("resize", setCanvasDimensions);

      // Load base image when a file is selected
      baseImageUpload.addEventListener("change", function (e) {
        loadImage(e.target.files[0], true);
      });

      // Load overlay image when "ADD PHAT" button is clicked
      addOverlayBtn.addEventListener("click", function () {
        loadOverlayImage(overlayImageUrl);
      });

      // Handle resizing of the overlay image from the center
      resizeControl.addEventListener("input", function () {
        if (baseImage && overlayImage) {
          const newScale = resizeControl.value / 100;
          const centerX =
            overlayPosition.x + (overlayImage.width * overlayImageScale) / 2;
          const centerY =
            overlayPosition.y + (overlayImage.height * overlayImageScale) / 2;

          overlayImageScale = newScale;
          overlayPosition.x =
            centerX - (overlayImage.width * overlayImageScale) / 2;
          overlayPosition.y =
            centerY - (overlayImage.height * overlayImageScale) / 2;
          drawImages();
        }
      });

      // Handle rotation of the overlay image
      rotateControl.addEventListener("input", function () {
        overlayRotation = parseInt(rotateControl.value);
        drawImages();
      });

      // Mouse interactions for dragging
      canvas.addEventListener("mousedown", startDragging);
      canvas.addEventListener("mousemove", dragImage);
      canvas.addEventListener("mouseup", stopDragging);

      // Touch interactions for dragging
      canvas.addEventListener("touchstart", startDragging);
      canvas.addEventListener("touchmove", dragImage);
      canvas.addEventListener("touchend", stopDragging);

      // Function to handle touchmove on the entire document
      function preventDocumentScroll(e) {
        e.preventDefault();
      }

      // Load image and display it on the canvas
      function loadImage(input, isBase) {
        preview.style.border = "1px solid #de1fb799";
        preview.style.backgroundColor = "#de1fb700";

        const img = new Image();
        img.onload = function () {
          if (isBase) {
            baseImage = img;
            scaleAndCenterBaseImage();
            drawImages();
          }
        };

        // Check if the input is a File object (from a file input)
        if (input instanceof File) {
          const reader = new FileReader();
          reader.onload = function (event) {
            img.src = event.target.result;
          };
          reader.readAsDataURL(input);
        } else if (typeof input === "string") {
          // Check if the input is a URL string
          img.src = input;
        } else {
          console.error(
            "Invalid input type. Expected a File object or a URL string."
          );
        }
      }

      // Scale and center base image to fit the canvas while maintaining aspect ratio
      function scaleAndCenterBaseImage() {
        const canvasAspectRatio = canvas.width / canvas.height;
        const imageAspectRatio = baseImage.width / baseImage.height;
        let scale;

        if (canvasAspectRatio > imageAspectRatio) {
          scale = canvas.height / baseImage.height;
          baseImage.width *= scale;
          baseImage.height *= scale;
        } else {
          scale = canvas.width / baseImage.width;
          baseImage.width *= scale;
          baseImage.height *= scale;
        }

        // Center the image on the canvas
        const centerX = canvas.width / 2;
        const centerY = canvas.height / 2;
        overlayPosition = {
          x: centerX - baseImage.width / 2,
          y: centerY - baseImage.height / 2,
        };
      }

      // Load overlay image and display it on the canvas
      function loadOverlayImage(url) {
        const img = new Image();
        img.crossOrigin = "Anonymous";
        img.onload = function () {
          overlayImage = img;
          calculateOverlayScale();
          overlayPosition = { x: 50, y: 50 };
          drawImages();
        };
        img.src = url;
      }

      // Scale base image to fit the canvas while maintaining aspect ratio
      function scaleBaseImageToFitCanvas() {
        let scale = Math.min(
          canvas.width / baseImage.width,
          canvas.height / baseImage.height
        );
        baseImage.width *= scale;
        baseImage.height *= scale;
      }

      // Calculate initial scale for overlay image
      function calculateOverlayScale() {
        if (baseImage && overlayImage) {
          overlayImageScale = 0.2 * (baseImage.width / overlayImage.width);
          resizeControl.value = overlayImageScale * 100;
        }
      }

      // Start dragging overlay image
      function startDragging(e) {
        const rect = canvas.getBoundingClientRect();
        let clientX, clientY;

        if (e.type === "mousedown") {
          clientX = e.clientX;
          clientY = e.clientY;
        } else if (e.type === "touchstart") {
          clientX = e.touches[0].clientX;
          clientY = e.touches[0].clientY;
        }

        const mouseX = clientX - rect.left;
        const mouseY = clientY - rect.top;

        if (
          mouseX >= overlayPosition.x &&
          mouseX <=
            overlayPosition.x + overlayImage.width * overlayImageScale &&
          mouseY >= overlayPosition.y &&
          mouseY <= overlayPosition.y + overlayImage.height * overlayImageScale
        ) {
          isDragging = true;
          dragStartX = mouseX - overlayPosition.x;
          dragStartY = mouseY - overlayPosition.y;

          // Prevent document scrolling during dragging on mobile
          document.addEventListener("touchmove", preventDocumentScroll, {
            passive: false,
          });
        }
      }

      // Drag overlay image
      function dragImage(e) {
        if (isDragging) {
          const rect = canvas.getBoundingClientRect();
          let clientX, clientY;

          if (e.type === "mousemove") {
            clientX = e.clientX;
            clientY = e.clientY;
          } else if (e.type === "touchmove") {
            clientX = e.touches[0].clientX;
            clientY = e.touches[0].clientY;
          }

          overlayPosition.x = clientX - rect.left - dragStartX;
          overlayPosition.y = clientY - rect.top - dragStartY;
          drawImages();
        }
      }

      // Stop dragging overlay image
      function stopDragging() {
        isDragging = false;

        // Remove the event listener to allow document scrolling again
        document.removeEventListener("touchmove", preventDocumentScroll);
      }

      // Draw base and overlay images on the canvas
      function drawImages() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        if (baseImage) {
          ctx.drawImage(
            baseImage,
            (canvas.width - baseImage.width) / 2,
            (canvas.height - baseImage.height) / 2,
            baseImage.width,
            baseImage.height
          );
        }

        if (overlayImage) {
          ctx.save();
          ctx.translate(
            overlayPosition.x + (overlayImage.width * overlayImageScale) / 2,
            overlayPosition.y + (overlayImage.height * overlayImageScale) / 2
          );
          ctx.rotate((overlayRotation * Math.PI) / 180);
          ctx.drawImage(
            overlayImage,
            (-overlayImage.width * overlayImageScale) / 2,
            (-overlayImage.height * overlayImageScale) / 2,
            overlayImage.width * overlayImageScale,
            overlayImage.height * overlayImageScale
          );
          ctx.restore();
        }
      }

      // Reset button functionality
      resetBtn.addEventListener("click", function () {
        preview.style.border = "none";
        preview.style.backgroundColor = "#de1fb75c";
        loadImage("../images/chonkys/upload-icon.png", true);
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        baseImage = null;
        overlayImage = null;
        overlayImageScale = 0.2;
        overlayRotation = 0;
        overlayPosition = { x: 50, y: 50 };
        isDragging = false;
        dragStartX = 0;
        dragStartY = 0;
        baseImageUpload.value = "";
        resizeControl.value = 20;
        rotateControl.value = 0;
        drawImages();
      });

      // Download button functionality
      downloadBtn.addEventListener("click", function () {
        // Create a larger canvas for upscaling
        const enlargedCanvas = document.createElement("canvas");
        const enlargedCtx = enlargedCanvas.getContext("2d");
        enlargedCanvas.width = canvas.width * 2;
        enlargedCanvas.height = canvas.height * 2;

        // Draw base and overlay images on the enlarged canvas with the desired scaling
        if (baseImage) {
          const baseImageScale = 2; // Upscale by 2x
          const baseImageX =
            (enlargedCanvas.width - baseImage.width * baseImageScale) / 2;
          const baseImageY =
            (enlargedCanvas.height - baseImage.height * baseImageScale) / 2;
          enlargedCtx.drawImage(
            baseImage,
            baseImageX,
            baseImageY,
            baseImage.width * baseImageScale,
            baseImage.height * baseImageScale
          );
        }

        if (overlayImage) {
          const overlayImageX = overlayPosition.x * 2;
          const overlayImageY = overlayPosition.y * 2;
          const overlayImageWidth = overlayImage.width * overlayImageScale * 2;
          const overlayImageHeight =
            overlayImage.height * overlayImageScale * 2;

          enlargedCtx.save();
          enlargedCtx.translate(
            overlayImageX + overlayImageWidth / 2,
            overlayImageY + overlayImageHeight / 2
          );
          enlargedCtx.rotate((overlayRotation * Math.PI) / 180);
          enlargedCtx.drawImage(
            overlayImage,
            -overlayImageWidth / 2,
            -overlayImageHeight / 2,
            overlayImageWidth,
            overlayImageHeight
          );
          enlargedCtx.restore();
        }

        // Export the enlarged canvas as an image
        const dataURL = enlargedCanvas.toDataURL("image/png");
        const downloadLink = document.createElement("a");
        downloadLink.href = dataURL;
        downloadLink.download = "enlarged_image.png";
        downloadLink.click();
      });

      // Function to set canvas dimensions dynamically
      function setCanvasDimensions() {
        const maxWidthMobile = 300; // Maximum width for mobile

        const viewportWidth = window.innerWidth;
        const viewportHeight = window.innerHeight;

        // Check if it's a mobile device (you can adjust this condition as needed)
        const isMobile = viewportWidth <= 768; // Adjust the breakpoint if necessary

        if (isMobile) {
          canvas.width = maxWidthMobile;
          canvas.height = maxWidthMobile; // Set the canvas width and height to 300px for mobile
        } else {
          const maxWidth = 600;
          const maxHeight = 600;
          const aspectRatio = maxWidth / maxHeight;

          // Calculate canvas dimensions based on screen size and aspect ratio
          if (viewportWidth < maxWidth || viewportHeight < maxHeight) {
            if (viewportWidth / viewportHeight > aspectRatio) {
              canvas.width = viewportHeight * aspectRatio;
              canvas.height = viewportHeight;
            } else {
              canvas.width = viewportWidth;
              canvas.height = viewportWidth / aspectRatio;
            }
          } else {
            canvas.width = maxWidth;
            canvas.height = maxHeight;
          }
        }

        // Redraw images when canvas dimensions change
        if (baseImage) {
          scaleBaseImageToFitCanvas();
          calculateOverlayScale();
          drawImages();
        }
      }

      loadImage("../images/chonkys/upload-icon.png", true);

      document.addEventListener("DOMContentLoaded", () => {
        const scrollAmount = 200;

        document.querySelectorAll(".memes").forEach((memeElement) => {
          const memeOptions = memeElement.querySelector(".memeOptions");
          const leftArrow = memeElement.querySelector(".sliderArrow.left");
          const rightArrow = memeElement.querySelector(".sliderArrow.right");

          leftArrow.addEventListener("click", () => {
            memeOptions.scrollLeft -= scrollAmount;
          });

          rightArrow.addEventListener("click", () => {
            memeOptions.scrollLeft += scrollAmount;
          });
        });

        document.querySelectorAll(".gato-face").forEach((face) => {
          face.addEventListener("click", function () {
            // Changed to a function expression
            // Remove 'selected' class from all
            document.querySelectorAll(".gato-face").forEach((el) => {
              el.classList.remove("selected");
            });

            // Add 'selected' to clicked one
            this.classList.add("selected");

            overlayImageUrl = this.src; // 'this' now correctly refers to the clicked '.gato-face' element
            loadOverlayImage(overlayImageUrl);
            drawImages();
          });
        });
      });
    </script>
  </body>
</html>
